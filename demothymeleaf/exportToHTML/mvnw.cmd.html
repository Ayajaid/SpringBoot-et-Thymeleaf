<html>
<head>
<title>mvnw.cmd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #000080; font-weight: bold;}
.s1 { color: #000000;}
.s2 { color: #000080; font-weight: bold; font-style: italic;}
.s3 { color: #808080; font-style: italic;}
.s4 { color: #008000; font-weight: bold;}
.s5 { color: #000000; font-weight: bold;}
.s6 { color: #000000;}
.s7 { color: #0000ff; font-weight: bold; font-style: italic;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
mvnw.cmd</font>
</center></td></tr></table>
<pre><span class="s0">&lt;</span># : batch portion 
<span class="s0">@</span><span class="s2">REM </span><span class="s3">---------------------------------------------------------------------------- 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">Licensed to the Apache Software Foundation (ASF) under one 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">or more contributor license agreements.  See the NOTICE file 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">distributed with this work for additional information 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">regarding copyright ownership.  The ASF licenses this file 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">to you under the Apache License, Version 2.0 (the 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">&quot;License&quot;); you may not use this file except in compliance 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">with the License.  You may obtain a copy of the License at 
</span><span class="s0">@</span><span class="s2">REM</span>
<span class="s0">@</span><span class="s2">REM    </span><span class="s3">http://www.apache.org/licenses/LICENSE-2.0 
</span><span class="s0">@</span><span class="s2">REM</span>
<span class="s0">@</span><span class="s2">REM </span><span class="s3">Unless required by applicable law or agreed to in writing, 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">software distributed under the License is distributed on an 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">KIND, either express or implied.  See the License for the 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">specific language governing permissions and limitations 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">under the License. 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">---------------------------------------------------------------------------- 
</span>
<span class="s0">@</span><span class="s2">REM </span><span class="s3">---------------------------------------------------------------------------- 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">Apache Maven Wrapper startup batch script, version 3.3.2 
</span><span class="s0">@</span><span class="s2">REM</span>
<span class="s0">@</span><span class="s2">REM </span><span class="s3">Optional ENV vars 
</span><span class="s0">@</span><span class="s2">REM   </span><span class="s3">MVNW_REPOURL - repo url base for downloading maven distribution 
</span><span class="s0">@</span><span class="s2">REM   </span><span class="s3">MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven 
</span><span class="s0">@</span><span class="s2">REM   </span><span class="s3">MVNW_VERBOSE - true: enable verbose log; others: silence the output 
</span><span class="s0">@</span><span class="s2">REM </span><span class="s3">---------------------------------------------------------------------------- 
</span>
<span class="s0">@</span>IF <span class="s4">&quot;</span><span class="s5">%__MVNW_ARG0_NAME__%</span><span class="s4">&quot;</span><span class="s0">==</span><span class="s4">&quot;&quot; </span>(SET __MVNW_ARG0_NAME__=%~nx0)
<span class="s0">@SET </span>__MVNW_CMD__<span class="s0">=</span>
<span class="s0">@SET </span>__MVNW_ERROR__<span class="s0">=</span>
<span class="s0">@SET </span>__MVNW_PSMODULEP_SAVE<span class="s0">=</span>%PSModulePath%
<span class="s0">@SET </span>PSModulePath<span class="s0">=</span>
<span class="s0">@</span>FOR /F <span class="s4">&quot;usebackq tokens=1* delims==&quot; </span><span class="s2">%%</span>A IN (`powershell -noprofile <span class="s4">&quot;&amp; {$scriptDir='</span><span class="s5">%~dp0</span><span class="s4">'; $script='</span><span class="s5">%__MVNW_ARG0_NAME__%</span><span class="s4">'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '</span><span class="s5">%~f0</span><span class="s4">'))) -NoNewScope}&quot;</span>`) DO <span class="s0">@</span>(
  <span class="s0">IF </span><span class="s4">&quot;</span><span class="s2">%%</span><span class="s4">A&quot;</span><span class="s0">==</span><span class="s4">&quot;MVN_CMD&quot; </span>(set __MVNW_CMD__=<span class="s2">%%</span>B) <span class="s0">ELSE IF </span><span class="s4">&quot;</span><span class="s2">%%</span><span class="s4">B&quot;</span><span class="s0">==</span><span class="s4">&quot;&quot; </span>(echo <span class="s2">%%</span>A) <span class="s0">ELSE </span>(echo <span class="s2">%%</span>A=<span class="s2">%%</span>B)
)
<span class="s0">@SET </span>PSModulePath<span class="s0">=</span>%__MVNW_PSMODULEP_SAVE%
<span class="s0">@SET </span>__MVNW_PSMODULEP_SAVE<span class="s0">=</span>
<span class="s0">@SET </span>__MVNW_ARG0_NAME__<span class="s0">=</span>
<span class="s0">@SET </span>MVNW_USERNAME<span class="s0">=</span>
<span class="s0">@SET </span>MVNW_PASSWORD<span class="s0">=</span>
<span class="s0">@</span>IF <span class="s0">NOT </span><span class="s4">&quot;</span><span class="s5">%__MVNW_CMD__%</span><span class="s4">&quot;</span><span class="s0">==</span><span class="s4">&quot;&quot; </span>(%__MVNW_CMD__% %*)
<span class="s0">@echo </span>Cannot start maven from wrapper <span class="s0">&gt;&amp;</span>2 <span class="s0">&amp;&amp; exit </span>/b <span class="s7">1</span>
<span class="s0">@</span>GOTO :<span class="s0">EOF</span>
<span class="s3">: end batch / begin powershell #&gt;</span>

$ErrorActionPreference = <span class="s4">&quot;Stop&quot;</span>
<span class="s0">if </span>($env:MVNW_VERBOSE -eq <span class="s4">&quot;true&quot;</span>) { 
  $VerbosePreference = <span class="s4">&quot;Continue&quot;</span>
} 

# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties 
$distributionUrl = (Get-Content -Raw <span class="s4">&quot;$scriptDir/.mvn/wrapper/maven-wrapper.properties&quot; </span><span class="s0">| </span>ConvertFrom-StringData).distributionUrl 
<span class="s0">if </span>(!$distributionUrl) { 
  Write-Error <span class="s4">&quot;cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties&quot;</span>
} 

switch -wildcard -casesensitive ( $($distributionUrl -replace '<span class="s2">^</span>.*/','') ) { 
  <span class="s4">&quot;maven-mvnd-*&quot; </span>{ 
    $USE_MVND = $true 
    $distributionUrl = $distributionUrl -replace '-bin\.[<span class="s2">^</span>.]*$',<span class="s4">&quot;-windows-amd64.zip&quot;</span>
    $MVN_CMD = <span class="s4">&quot;mvnd.cmd&quot;</span>
    break 
  } 
  default { 
    $USE_MVND = $false 
    $MVN_CMD = $script -replace '<span class="s2">^</span>mvnw','mvn' 
    break 
  } 
} 

# apply MVNW_REPOURL and calculate MAVEN_HOME 
# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<span class="s0">&lt;</span>version<span class="s0">&gt;</span>,maven-mvnd-<span class="s0">&lt;</span>version<span class="s0">&gt;</span>-<span class="s0">&lt;</span>platform<span class="s0">&gt;</span>}/<span class="s0">&lt;</span>hash<span class="s0">&gt;</span>
<span class="s0">if </span>($env:MVNW_REPOURL) { 
  $MVNW_REPO_PATTERN = <span class="s0">if </span>($USE_MVND) { <span class="s4">&quot;/org/apache/maven/&quot; </span>} <span class="s0">else </span>{ <span class="s4">&quot;/maven/mvnd/&quot; </span>} 
  $distributionUrl = <span class="s4">&quot;$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')&quot;</span>
} 
$distributionUrlName = $distributionUrl -replace '<span class="s2">^</span>.*/','' 
$distributionUrlNameMain = $distributionUrlName -replace '\.[<span class="s2">^</span>.]*$','' -replace '-bin$','' 
$MAVEN_HOME_PARENT = <span class="s4">&quot;$HOME/.m2/wrapper/dists/$distributionUrlNameMain&quot;</span>
<span class="s0">if </span>($env:MAVEN_USER_HOME) { 
  $MAVEN_HOME_PARENT = <span class="s4">&quot;$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain&quot;</span>
} 
$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) <span class="s0">| </span>ForEach-Object {$_.ToString(<span class="s4">&quot;x2&quot;</span>)}) -join '' 
$MAVEN_HOME = <span class="s4">&quot;$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME&quot;</span>

<span class="s0">if </span>(Test-Path -Path <span class="s4">&quot;$MAVEN_HOME&quot; </span>-PathType Container) { 
  Write-Verbose <span class="s4">&quot;found existing MAVEN_HOME at $MAVEN_HOME&quot;</span>
  Write-Output <span class="s4">&quot;MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD&quot;</span>
  <span class="s0">exit </span>$? 
} 

<span class="s0">if </span>(! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) { 
  Write-Error <span class="s4">&quot;distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl&quot;</span>
} 

# prepare tmp <span class="s0">dir</span>
$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile 
$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path <span class="s4">&quot;$TMP_DOWNLOAD_DIR_HOLDER.dir&quot;</span>
$TMP_DOWNLOAD_DIR_HOLDER.Delete() <span class="s0">| </span>Out-Null 
trap { 
  <span class="s0">if </span>($TMP_DOWNLOAD_DIR.Exists) { 
    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force <span class="s0">| </span>Out-Null } 
    catch { Write-Warning <span class="s4">&quot;Cannot remove $TMP_DOWNLOAD_DIR&quot; </span>} 
  } 
} 

New-Item -Itemtype Directory -Path <span class="s4">&quot;$MAVEN_HOME_PARENT&quot; </span>-Force <span class="s0">| </span>Out-Null 

# Download and Install Apache Maven 
Write-Verbose <span class="s4">&quot;Couldn't find MAVEN_HOME, downloading and installing it ...&quot;</span>
Write-Verbose <span class="s4">&quot;Downloading from: $distributionUrl&quot;</span>
Write-Verbose <span class="s4">&quot;Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName&quot;</span>

$webclient = New-Object System.Net.WebClient 
<span class="s0">if </span>($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) { 
  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)
} 
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 
$webclient.DownloadFile($distributionUrl, <span class="s4">&quot;$TMP_DOWNLOAD_DIR/$distributionUrlName&quot;</span>) <span class="s0">| </span>Out-Null 

# <span class="s0">If </span>specified, validate the SHA-256 sum of the Maven distribution zip file 
$distributionSha256Sum = (Get-Content -Raw <span class="s4">&quot;$scriptDir/.mvn/wrapper/maven-wrapper.properties&quot; </span><span class="s0">| </span>ConvertFrom-StringData).distributionSha256Sum 
<span class="s0">if </span>($distributionSha256Sum) { 
  <span class="s0">if </span>($USE_MVND) { 
    Write-Error <span class="s4">&quot;Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties.&quot;</span>
  } 
  Import-Module $PSHOME\Modules\Microsoft.PowerShell.Utility -Function Get-FileHash 
  <span class="s0">if </span>((Get-FileHash <span class="s4">&quot;$TMP_DOWNLOAD_DIR/$distributionUrlName&quot; </span>-Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) { 
    Write-Error <span class="s4">&quot;Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property.&quot;</span>
  } 
} 

# unzip and <span class="s0">move</span>
Expand-Archive <span class="s4">&quot;$TMP_DOWNLOAD_DIR/$distributionUrlName&quot; </span>-DestinationPath <span class="s4">&quot;$TMP_DOWNLOAD_DIR&quot; </span><span class="s0">| </span>Out-Null 
Rename-Item -Path <span class="s4">&quot;$TMP_DOWNLOAD_DIR/$distributionUrlNameMain&quot; </span>-NewName $MAVEN_HOME_NAME <span class="s0">| </span>Out-Null 
try { 
  Move-Item -Path <span class="s4">&quot;$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME&quot; </span>-Destination $MAVEN_HOME_PARENT <span class="s0">| </span>Out-Null 
} catch { 
  <span class="s0">if </span>(! (Test-Path -Path <span class="s4">&quot;$MAVEN_HOME&quot; </span>-PathType Container)) { 
    Write-Error <span class="s4">&quot;fail to move MAVEN_HOME&quot;</span>
  } 
} finally { 
  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force <span class="s0">| </span>Out-Null } 
  catch { Write-Warning <span class="s4">&quot;Cannot remove $TMP_DOWNLOAD_DIR&quot; </span>} 
} 

Write-Output <span class="s4">&quot;MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD&quot;</span>
</pre>
</body>
</html>